# 赛事管理系统设计文档

  

## 一、系统概述

本系统为各类赛事提供参赛队伍管理平台，能够实现对参赛队基本信息的录入、修改、删除、查询等功能。



## 二、功能需求

### 1.基本功能

1. **参赛队基本信息管理**
   - 能够管理各参赛队的基本信息，包括**参赛作品名称、参赛学校、赛事类别、参赛者、指导老师**。
   - 支持增加修改参赛队伍的信息。
2. **参赛队伍信息查询**
   - 根据输入的相关信息，输出该赛事类别对应的基本信息，包括参赛队编号、参赛作品名称、参赛学校、赛事类别、参赛者和指导老师信息。
3. **按参赛学校或赛事类别查询**
   - 根据输入的参赛学校名称，若查询成功，输出该学校参赛的所有团队的基本信息，且可按照多种排序方式输出。

### 2.创新点
1.	**功能创新**
	- 支持批量删除任意属性的队伍信息。
	- 支持查询任意字段任意内容的队伍，并提供连续查询。
	- 支持在当前查询页面任意字段的升降序排序。
	- 支持模糊搜索，并不需要完全匹配。
	- 实现了默认插入和空数据检查，防止插入数据非法
2.	**使用QT架构开发GUI页面**
   - 通过使用QT开发的GUI页面，使数据的显示和管理操作可视化，方便管理和操作信息。
   - 通过QSqlDataBase、QSqlTablemodel等组件实现了**实时反馈**，并提供了简单的表格直接修改。
   - 进行了的ui布局设计和美化，添加了按钮和程序的图标。
   - 通过GUI的提示窗口，实时提示和反馈操作结果。
3.	**采用MySQL存储数据**
   - 程序使用MySQL进行数据永久化存储。
   - 提供了远程访问数据库的功能，可以访问异地数据库的信息。 
4.	**登录功能**
   - 提供了登录指定的MYSQL数据库和表选项，可以通过登录时使用不同的账号密码管理不同的数据库。
5.	**使用Git进行代码同步**
   - 使用Git和github进行版本控制，方便过程中进行修改和提交。

## 三、系统架构

1. **数据存储层**
    - 采用数据库存储参赛队伍的基本信息，选择关系型数据库如MySQL。
    - 设计合适的数据表结构，确保数据的完整性和一致性。
2. **业务逻辑层**
    - 实现对参赛队伍信息的各种操作逻辑，包括增加、删除、修改、查询等。
    - 处理按参赛学校或赛事类别查询的逻辑，并进行信息排序。
3. **用户界面层**
    - 提供友好的用户界面，方便用户输入和查看参赛队伍信息。
    - 接收用户的操作指令，并将结果反馈给用户。



## 四、数据库设计

1. **参赛队伍信息表（team_info）**
- *team_id* **INT PRIMARY KEY AUTO_INCREMENT**
- *work_name* **tinytext NOT NULL check (work_name <> '')**,
- *school_name* **tinytext NOT NULL check (school_name <> '')**
- *event_category* **tinytext NOT NULL check (event_category <> '')**
- *participants* **tinytext NOT NULL check (participants <> '')**
- *instructor* **tinytext check (instructor <> '')**
2.	**字段说明**
- team_id 类型为 INT，primary key 声明这个字段为主键，不允许重复。auto_increment 将team_id设置为自增类型，从而支持空白插入数据。
- 其余五个字段类型为 tinytext 存储一个简短字符串，NOT NULL 使这些字段不能为空数据，check（xx <> ''）确保不能为空字符串，同时确保数据合法。

## 五、功能实现

1. **登录功能**

- 程序启动后首先进入登陆界面，输入用户名和密码后点击登录按钮，触发登录按钮的槽函数：通过对两个行文本编辑框的数据读取得到输入的用户名和密码，静态类dbconnection的set方法设置连接数据库的用户名和密码并进行连接。连接成功后执行信息管理页面程序。

2. **参赛队信息基本管理功能**

- **增加参赛队伍信息**：提供了默认插入和指定id插入两种方式。点击插入按钮后会弹出队伍信息编辑窗口，点击确定后将信息编辑窗口的信息读取并以MYSQL指令的格式通过QSqlQuery类向数据库发送指令，并接受指令执行结果。根据结果弹出相应提示。
- **删除参赛队伍信息**：点击删除按钮后弹出删除窗口，可以选择删除属性和删除内容，读取选择的属性和输入内容后，会将具有这一类属性的数据统一删除，也可以指定id单独删除某一条数据。
- **修改参赛队伍信息**：用户输入参赛队编号后，弹出队伍信息编辑窗口，点击确定后更改后的将信息更新到数据库。

3. **参赛队伍信息查询功能**

- **全字段的查询功能**：通过一个comboBox组件提供查询字段的选项，并读取用户当前选择的属性，同时读取要查询内容实现全字段查询。
- **动态查询功能**：查询后，按钮变为继续查询，可以继续查询满足多重条件的队伍信息，点击重置按钮情况查询条件。
- **模糊匹配搜索**：通过增加 **like**修饰符，搜索所有包含这个属性的数据，而不需要全字匹配。

4. **参赛队伍排序功能**
- **全字段升降序排序**：通过两个comboBox组件实现，第一个选择排序对象，第二个选择升降序。点击排序按钮后根据选择选项进行不同的排序操作。

## 七、结论

